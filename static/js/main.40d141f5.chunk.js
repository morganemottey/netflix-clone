(this["webpackJsonpnetflix-clone"]=this["webpackJsonpnetflix-clone"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},128:function(e,t,a){},168:function(e,t,a){},177:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a(0),s=a.n(c),i=a(34),o=a.n(i),l=(a(79),a(28)),u=a(31),h=a(12),p=a.n(h),d=a(27),m=a(4),j=a(5),v=a(7),b=a(6),O=a(19),f=a.n(O),g=a(30),x=a(32),y="ADD_MOVIE",N="REMOVE_MOVIE",k="GET_MOVIES",S="GET_NUMBERS",w=(a(87),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.getNumbers()}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)(g.b,{to:{pathname:"/"},children:Object(r.jsx)(f.a,{className:"header--movie",name:"film",size:"5x"})}),Object(r.jsx)("h3",{children:"NETFLIX"}),Object(r.jsx)(g.b,{to:{pathname:"/player"},children:Object(r.jsx)(f.a,{className:"header--heart",name:"heart",size:"5x"})}),Object(r.jsx)("div",{className:"header--badge",children:this.props.badge})]})}}]),a}(c.Component)),I=Object(x.b)((function(e){return{badge:e.movies.number}}),(function(e){return{getNumbers:function(){return e(function(){var e,t=JSON.parse(localStorage.getItem("movies"));return e=t?t.length:0,{type:S,payload:e}}())}}}))(w),M=(a(91),a(48),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"headerImg",style:{background:"url(".concat(this.props.imgScr,") no-repeat")},children:Object(r.jsxs)("div",{className:"headerImg--overlay",children:[Object(r.jsx)("h3",{className:"headerImg--overlay__title",children:this.props.title}),Object(r.jsx)("p",{className:"headerImg--overlay__desc",children:this.props.overview})]})})}}]),a}(c.Component)),D=(a(92),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"searchBar--container",children:Object(r.jsxs)("div",{className:"searchBar",children:[Object(r.jsx)("input",{className:"searchBar--input",type:"text",placeholder:"Rechercher un Film",value:this.state.value,onChange:this.handleChange}),Object(r.jsx)("div",{onClick:function(){return e.props.onSearchClick(e.state.value)},className:"searchBar--submit",children:Object(r.jsx)(f.a,{className:"searchIcon",name:"search"})})]})})}}]),a}(c.Component)),C="https://api.themoviedb.org/3",E="http://image.tmdb.org/t/p",_="1ab0ca1ccd0154213af3306da0a08590",P="w1280",A="w500",T=(a(93),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderPoster=function(){return e.props.movies.map((function(t){var a="".concat(E,"/").concat(A,"/").concat(t.poster_path);return n=!1,e.props.localMovies&&e.props.localMovies.forEach((function(e){t.id===e.id&&(n=!0)})),Object(r.jsx)(L,{imgSrc:a,whished:n,movie:t,mTitle:t.title,mDesc:t.overview,id:t.id},t.id)}))},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"posterList",children:[Object(r.jsx)("h3",{className:"posterList--title",children:"NOUVEAUX FILMS"}),Object(r.jsx)("div",{className:"posterList--grid",children:this.renderPoster()})]})}}]),a}(c.Component)),U=(a(94),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hover:!1},e.showOverlay=function(){e.state.hover||e.setState({hover:!0})},e.hideOverlay=function(){e.setState({hover:!1})},e.remove=function(){e.props.removeM(e.props.id),console.log("remove avec redux")},e.add=function(){e.props.addM(e.props.movie),console.log("add avec redux")},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"poster",onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay,children:[Object(r.jsx)(g.b,{to:{pathname:"/".concat(this.props.id)},children:Object(r.jsx)("img",{className:"poster--img",src:this.props.imgSrc,alt:"poster"})}),this.state.hover?Object(r.jsxs)("div",{className:"poster--overlay",children:[Object(r.jsx)("h3",{className:"poster--overlay__text",children:"LISTE DE SOUHAITS"}),this.props.whished?Object(r.jsx)(f.a,{onClick:this.remove,className:"poster--icon",name:"heart",size:"3x"}):Object(r.jsx)(f.a,{onClick:this.add,className:"poster--icon__not",name:"heart-o",size:"3x"})]}):null]})}}]),a}(c.Component)),L=Object(x.b)(null,(function(e){return{addM:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("movies"));return t?t=[].concat(Object(u.a)(t),[e]):(t=[]).push(e),localStorage.setItem("movies",JSON.stringify(t)),{type:y,payload:t}}(t))},removeM:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("movies")).filter((function(t){return t.id!==e}));return localStorage.setItem("movies",JSON.stringify(t)),{type:N,payload:t}}(t))}}}))(U),B=(a(95),a(67)),R=a(68),V=a(37);a(98);V.b.add(R.a);var F=function(e){return Object(r.jsx)("div",{className:"spinner--container",children:Object(r.jsx)(B.a,{icon:"spinner",pulse:!0,size:"7x",className:"fa-faSpinner"})})},J=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.props.loading?Object(r.jsx)(F,{}):Object(r.jsx)("div",{className:"loadButton",onClick:this.props.onButtonClick,children:Object(r.jsx)("h3",{className:"loadButton--text",children:"VOIR PLUS"})})})}}]),a}(c.Component),z=(a(99),function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(f.a,{name:e.iconName,size:"5x"}),Object(r.jsx)("h3",{className:"container--title",children:e.content})]})})}),Z=(a(100),function(e){return Object(r.jsxs)("div",{className:"stars--container",children:[e.fakeArray1.map((function(e,t){return Object(r.jsx)(f.a,{className:"stars",name:"star",size:"3x"},t)})),e.fakeArray1.map((function(e,t){return Object(r.jsx)(f.a,{className:"stars",name:"star-o",size:"3x"},t)}))]})}),K=(a(101),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hover:!1},e.showOverlay=function(){e.state.hover||e.setState({hover:!0})},e.hideOverlay=function(){e.setState({hover:!1})},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.name.split(" ");return Object(r.jsxs)("div",{className:"actor",onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay,children:[Object(r.jsx)("img",{className:"actor--img",alt:"actor",src:this.props.imgSrc}),this.state.hover?Object(r.jsxs)("div",{className:"actor--overlay",children:[Object(r.jsx)("h3",{className:"actor--name",children:e[0]}),Object(r.jsx)("h3",{className:"actor--name",children:e[1]})]}):null]})}}]),a}(c.Component)),G=(a(102),function(e){return Object(r.jsxs)("div",{className:"actorList",children:[Object(r.jsx)("h3",{className:"actorList--title",children:" ACTEURS "}),Object(r.jsx)("div",{className:"actorList--grid",children:e.actors.map((function(e,t){var a=e.profile_path?"".concat(E,"/").concat(A,"/").concat(e.profile_path):"./images/no_image.jpg";return Object(r.jsx)(K,{imgSrc:a,name:e.name,hover:!1},t)}))})]})}),W=function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")},Y="NETFLIX_APP_LOGGEDIN",X=function(){var e=!!localStorage.getItem(Y);return console.log("flag",e),e},Q=(a(103),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).calcVote=function(){e.fakeArray1=[],e.fakeArray2=[];for(var t=Math.round(e.props.vote/2),a=5-t,n=0;n<t;n++)e.fakeArray1.push("1");if(0!==a)for(var r=0;r<a;r++)e.fakeArray2.push("1")},e}return Object(j.a)(a,[{key:"render",value:function(){this.calcVote();var e,t="".concat(E,"/").concat(A,"/").concat(this.props.imgSrc);return Object(r.jsxs)("div",{className:"headerDetails",children:[Object(r.jsx)("div",{className:"badge-decoration",children:this.props.status}),Object(r.jsx)("div",{className:"headerDetails--poster",children:Object(r.jsx)("img",{className:"headerDetails--poster__img",src:t,alt:"image"})}),Object(r.jsxs)("div",{className:"headerDetails--container",children:[Object(r.jsx)("h3",{className:"headerDetails--container__title",children:this.props.mTitle}),Object(r.jsx)("p",{className:"headerDetails--container__desc",children:this.props.mDesc}),Object(r.jsxs)("div",{className:"headerDetails--info",children:[Object(r.jsx)(z,{iconName:"hourglass-half",content:W(this.props.runtime)}),Object(r.jsx)(Z,{fakeArray1:this.fakeArray1,fakeArray2:this.fakeArray2}),Object(r.jsx)(z,{iconName:"money",content:(e=this.props.revenue,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e))})]})]})]})}}]),a}(c.Component)),q=a(69),H=a.n(q),$=(a(121),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"videoPlayer",children:Object(r.jsx)(H.a,{url:this.props.videoUrl,controls:!0,playing:!1,width:"100%",height:"100%",style:{position:"absolute",top:"0",left:"0"},light:this.props.imageUrl,onEnded:this.props.handleEnded})})}}]),a}(c.Component)),ee=(a(122),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.active?"mvPlayerListItem active":"mvPlayerListItem";return Object(r.jsxs)(g.b,{style:{textDecoration:"none",color:"white"},to:{pathname:"/player/".concat(this.props.id)},children:[Object(r.jsxs)("div",{className:e,children:[Object(r.jsx)("div",{className:"mvPlayerListItem--number",children:this.props.number}),Object(r.jsx)("div",{className:"mvPlayerListItem--title",children:this.props.title}),Object(r.jsx)("div",{className:"mvPlayerListItem--time",children:this.props.duration})]}),Object(r.jsx)("div",{className:"mvPlayerListItem--divider"})]})}}]),a}(c.Component)),te=(a(123),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderList=function(e){return e.movies.map((function(t,a){var n=t.id===e.selectedMovie.id;return Object(c.createElement)(ee,Object(l.a)(Object(l.a)({},t),{},{key:t.id,number:a+1,active:n}))}))},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"mvPlayerList",children:[Object(r.jsxs)("div",{className:"mvPlayerList--header",children:[Object(r.jsx)("h3",{children:this.props.selectedMovie.title}),Object(r.jsxs)("div",{className:"mvPlayerList--badge",children:["1","/","10"]})]}),Object(r.jsx)("div",{className:"mvPlayerList--list",children:this.renderList(this.props)})]})}}]),a}(c.Component)),ae=a(184),ne=a(185),re=a(188),ce=a(186),se=a(187),ie=a(70),oe=a.n(ie),le=(a(128),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.env,a=e.client,n=e.currency,c=e.total,s=e.onError,i=e.onSuccess,o=e.onCancel;return Object(r.jsx)("div",{className:"payment",children:Object(r.jsxs)(ae.a,{className:"payment--card",children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)(re.a,{color:"danger",children:Object(r.jsx)("h3",{children:"UN PAYMENT EST REQUIS POUR CONTINUER !!!"})})}),Object(r.jsxs)(ce.a,{className:"payment--body",children:[Object(r.jsx)(se.a,{className:"payment--text",children:"VOUS DEVEZ PAYER VOTRE ABONEMENT"}),Object(r.jsx)("div",{className:"payment--button",children:Object(r.jsx)(oe.a,{env:t,client:a,currency:n,total:c,onError:s,onSuccess:i,onCancel:o})})]})]})})}}]),a}(c.Component)),ue=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"NOT FOUND"})})},he=a(36),pe=a.n(he),de=X(),me=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,actors:[],mTitle:"",mDesc:"",imgSrc:"",revenue:"",runtime:"",status:"",vote:"",flag:de},e.loadInfos=function(e){return pe.a.get(e)},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n,r,c,s,i,o,l,h,m,j=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.flag){e.next=4;break}return this.props.history.push({pathname:"/login"}),e.abrupt("return");case 4:return t=this.props.match.params.id,a="".concat(C,"/movie/").concat(t,"?api_key=").concat(_,"&language=fr"),e.next=8,this.loadInfos(a);case 8:n=e.sent,r=n.data,c=r.revenue,s=r.runtime,i=r.title,o=r.overview,l=r.status,h=r.vote_average,m=r.poster_path,this.setState({revenue:c,runtime:s,mTitle:i,mDesc:o,status:l,imgSrc:m,vote:h},Object(d.a)(p.a.mark((function e(){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(C,"/movie/").concat(t,"/credits?api_key=").concat(_,"&language=fr"),e.next=3,j.loadInfos(a);case 3:n=e.sent,r=n.data.cast,j.setState({actors:Object(u.a)(r),loading:!1});case 6:case"end":return e.stop()}}),e)})))),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("e",e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.mTitle,n=e.mDesc,c=e.actors,s=e.imgSrc,i=e.revenue,o=e.runtime,l=e.status,u=e.vote;return Object(r.jsx)("div",{className:"app",children:t?Object(r.jsx)(F,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q,{mTitle:a,mDesc:n,imgSrc:s,runtime:o,revenue:i,status:l,vote:u}),Object(r.jsx)(G,{actors:c})]})})}}]),a}(c.Component),je=a(11),ve=X(),be=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={flag:ve},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.state.flag?this.props.getMovies():this.props.history.push({pathname:"/login"})}},{key:"render",value:function(){var e=this.props,t=e.mTitle,a=e.mDesc,n=e.image,c=e.movies,s=e.loading;return Object(r.jsxs)("div",{children:[Object(r.jsx)(M,{title:t,overview:a,imgScr:n}),Object(r.jsx)(D,{onSearchClick:this.props.onSearchClick}),Object(r.jsx)(T,{movies:c,localMovies:this.props.localMovies}),Object(r.jsx)(J,{onButtonClick:this.props.onButtonClick,loading:s})]})}}]),a}(c.Component),Oe=Object(x.b)((function(e){return{localMovies:e.movies.movies}}),(function(e){return{getMovies:function(){return e(function(){var e=JSON.parse(localStorage.getItem("movies"));return{type:k,payload:e}}())}}}))(Object(je.f)(be)),fe=a(71),ge=a.n(fe),xe=a(20),ye=a.n(xe),Ne=(a(168),X()),ke=[],Se=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],selectedMovie:{},loading:!0,flag:Ne},e.getSelectedMovie=function(e,t){return ge.a.find(e,{id:parseInt(t,10)})},e.handleEnded=function(){console.log("video ended");var t=e.state,a=t.movies,n=t.selectedMovie,r=a.findIndex((function(e){return n.id===e.id})),c=a[r===a.length-1?0:r+1];e.props.history.push({pathname:"/player/".concat(c.id)}),e.setState({selectedMovie:c})},e.getTime=function(e){return new Promise((function(t,a){var n="".concat(C,"/movie/").concat(e,"?api_key=").concat(_,"&language=fr");pe.a.get(n).then((function(e){var a=e.data.runtime;t(a)})).catch((function(e){console.log("e",e),a("error ",e)}))}))},e.getNewMovies=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,c,s,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<a.length)){t.next=12;break}return c=a[r],s=c.id,t.next=7,e.getTime(s);case 7:i=t.sent,n.push(W(i));case 9:r++,t.next=2;break;case 12:return t.abrupt("return",Promise.all(n));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.flag){e.next=3;break}return this.props.history.push({pathname:"/login"}),e.abrupt("return");case 3:setTimeout((function(){var e=ye.a.auth().currentUser;e?ye.a.database().ref("users/".concat(e.uid)).on("value",function(){var e=Object(d.a)(p.a.mark((function e(a){var n,r,c,s,i,o,l,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.val(),console.log("data",n),!n){e.next=19;break}if(r=n.validUntil,c=(new Date).getTime(),!(r>c)){e.next=16;break}return console.log("abonnement valide"),s=JSON.parse(localStorage.getItem("movies")),e.next=10,t.getNewMovies(s);case 10:i=e.sent,ke=s.map((function(e,t){return{id:e.id,position:t+1,title:e.title,duration:i[t],imageUrl:"".concat(E,"/").concat(P,"/").concat(e.backdrop_path),videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}})),(o=t.props.match.params.id)?(l=t.getSelectedMovie(ke,o),t.setState({loading:!1,movies:Object(u.a)(ke),selectedMovie:l})):(h=ke[0],t.setState({loading:!1,movies:Object(u.a)(ke),selectedMovie:h}),t.props.history.push({pathname:"/player/".concat(h.id)})),e.next=17;break;case 16:t.props.history.push({pathname:"/payment"});case 17:e.next=20;break;case 19:t.props.history.push({pathname:"/payment"});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):t.props.history.push({pathname:"/login"})}),3e3);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){if(console.log("component did update"),e.match.params.id!==this.props.match.params.id){var t=this.props.match.params.id,a=this.getSelectedMovie(ke,t);this.setState({selectedMovie:a})}}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.selectedMovie;return Object(r.jsx)("div",{className:"moviePlayer",children:this.state.loading?Object(r.jsx)(F,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{videoUrl:a.videoUrl,imageUrl:a.imageUrl,handleEnded:this.handleEnded}),Object(r.jsx)(te,{movies:t,selectedMovie:a})]})})}}]),a}(c.Component),we=a(72),Ie=a.n(we),Me=(a(177),{signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[ye.a.auth.GoogleAuthProvider.PROVIDER_ID,ye.a.auth.FacebookAuthProvider.PROVIDER_ID,ye.a.auth.TwitterAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return console.log("connexion reussie"),localStorage.setItem(Y,!0),!0}}}),De=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{className:"alert alert-dark",role:"alert",children:Object(r.jsx)("h3",{children:"VOUS DEVEZ VOUS CONNECTER POUR CONTINUER"})}),Object(r.jsx)(Ie.a,{uiConfig:Me,firebaseAuth:ye.a.auth(),uiCallback:function(e){return e.disableAutoSignIn()}})]})}}]),a}(c.Component),Ce={sandbox:"AZDcCIN6Azy2ouwdWsUNwS4AwjsCWm0BJfihhEFVE1N0pM-xZxX3eu0B5gkKLQY1Wa_1tJZc3-iokCRJ",production:"xxxxxx"},Ee=function(e){console.log("erreur",e)},_e=function(e){return console.log("payment annul\xe9",e)},Pe=function(e){return Object(r.jsx)(le,{env:"production",client:Ce,total:100,currency:"USD",onError:Ee,onCancel:_e,onSuccess:function(t){console.log("payment reussie");var a=ye.a.auth().currentUser,n=ye.a.database().ref("users/".concat(a.uid)),r=new Date,c=r.setDate(r.getDate()+30);console.log("newDate",c),n.set({validUntil:c}).then((function(){console.log("op\xe9ration r\xe9ussie"),e.history.push({pathname:"/"})})).catch((function(e){console.log("error",e)}))}})},Ae=a(38),Te={movies:[],number:0},Ue=Object(Ae.b)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{movies:t.payload,number:t.payload.length};case N:return{movies:t.payload,number:e.number-1};case k:return Object(l.a)(Object(l.a)({},e),{},{movies:t.payload});case S:return Object(l.a)(Object(l.a)({},e),{},{number:t.payload.length});default:return e}}}),Le=Object(Ae.c)(Ue,{}),Be=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,movies:[],badge:0,image:null,mTitle:"",mDesc:"",activePage:0,totalPages:0,searchText:""},e.handleSearch=function(t){try{e.setState({loading:!0,searchText:t,image:null},Object(d.a)(p.a.mark((function t(){var a,n,r,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchMovie();case 2:a=t.sent,n=a.data,r=n.results,c=n.page,s=n.total_pages,e.setState({movies:r,loading:!1,activePage:c,totalPages:s,image:"".concat(E,"/").concat(P,"/").concat(r[0].backdrop_path),mTitle:r[0].title,mDesc:r[0].overview});case 8:case"end":return t.stop()}}),t)}))))}catch(a){console.log("e",a)}},e.searchMovie=function(){var t="".concat(C,"/search/movie?api_key=").concat(_,"&query=").concat(e.state.searchText,"&language=fr");return pe.a.get(t)},e.loadMore=Object(d.a)(p.a.mark((function t(){var a,n,r,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,e.loadMovies();case 4:a=t.sent,n=a.data,r=n.results,c=n.page,s=n.total_pages,e.setState({movies:[e.state.movies].concat(Object(u.a)(r)),loading:!1,activePage:c,totalPages:s,image:"".concat(E,"/").concat(P,"/").concat(r[0].backdrop_path),mTitle:r[0].title,mDesc:r[0].overview}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log("e",t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])}))),e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ye.a.initializeApp({apiKey:"AIzaSyB6lLKNPWsZB3ZiuKKLY0617KStfL4DaMY",authDomain:"mini-netflix-9473f.firebaseapp.com",projectId:"mini-netflix-9473f",storageBucket:"mini-netflix-9473f.appspot.com",messagingSenderId:"54403836020",appId:"1:54403836020:web:2db6e5ba5a98fc6b30c921"}),e.next=4,this.loadMovies();case 4:t=e.sent,a=t.data,n=a.results,r=a.page,c=a.total_pages,this.setState({movies:n,loading:!1,activePage:r,totalPages:c,image:"".concat(E,"/").concat(P,"/").concat(n[0].backdrop_path),mTitle:n[0].title,mDesc:n[0].overview}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("e",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadMovies",value:function(){var e=this.state.activePage+1,t="".concat(C,"/movie/popular?api_key=").concat(_,"&page=").concat(e,"&language=fr");return pe.a.get(t)}},{key:"render",value:function(){var e=this;return Object(r.jsx)(x.a,{store:Le,children:Object(r.jsx)(g.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(I,{badge:this.state.badge}),this.state.image?Object(r.jsxs)(je.c,{children:[Object(r.jsx)(je.a,{path:"/",exact:!0,render:function(){return Object(r.jsx)(Oe,Object(l.a)(Object(l.a)({},e.state),{},{onSearchClick:e.handleSearch,onButtonClick:e.loadMore}))}}),Object(r.jsx)(je.a,{path:"/login",exact:!0,component:De}),Object(r.jsx)(je.a,{path:"/player",exact:!0,component:Se}),Object(r.jsx)(je.a,{path:"/payment",exact:!0,component:Pe}),Object(r.jsx)(je.a,{path:"/player/:id",exact:!0,component:Se}),Object(r.jsx)(je.a,{path:"/:id",exact:!0,component:me}),Object(r.jsx)(je.a,{component:ue})]}):Object(r.jsx)(F,{})]})})})}}]),a}(c.Component),Re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,189)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(178);o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(Be,{})}),document.getElementById("root")),Re()},48:function(e,t,a){},79:function(e,t,a){},87:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[179,1,2]]]);
//# sourceMappingURL=main.40d141f5.chunk.js.map